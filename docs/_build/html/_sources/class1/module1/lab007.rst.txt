Lab – Test the Configuration
------------------------------------------------

In this section you test access to a NGINX site requiring mTLS.


Task – Access mtls.acme.com
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


#. From the jumpbox's webbrowser,  access https://mtls.acme.com

|image43|

#. Login with the username: **user1** and password: **user1**

|image44|

#. You will be logged into the site displaying the Cert userID for **user1@f5lab.local**
#. Click the **Expand Certificate Data Array** to see the contents of the certificate.

|image45|

#. Scroll down the Certificate contents and you will see in Subject Array the commonName of the certificate is **F5CertSSO**. This certificate was build using the contents of the certificate copied into the APM policy

|image46|

#. Continue to scroll down to the extension array section and you will see a custom extension of **1.1.1.1** has been inserted into the minted certificate.  The values are base64 encoded and into the userID **user1@f5lab.local**

|image47|

#. Open a new incognito windows so you can test accessing mtls.acme.com with a different user.

|image48|

|image49|



#. Login with the username: **user2** and password: **user2**

|image50|

#. You will be logged into the site displaying the Cert userID for **user2@f5lab.local**
#. Click the **Expand Certificate Data Array** to see the contents of the certificate

|image51|

#. Scroll down the Certificate contents and you will see in Subject Array the commonName of the certificate is **F5CertSSO**. This certificate was build using the contents of the certificate copied into the APM policy

|image46|

#. Continue to scroll down to the extension array section and you will see a custom extension of **1.1.1.1** has been inserted into the minted certificate.  The values are base64 encoded and into the userID **user2@f5lab.local**

|image53|



.. |image43| image:: /_static/class1/module1/image043.png
.. |image44| image:: /_static/class1/module1/image044.png
.. |image45| image:: /_static/class1/module1/image045.png
.. |image46| image:: /_static/class1/module1/image046.png
.. |image47| image:: /_static/class1/module1/image047.png
.. |image48| image:: /_static/class1/module1/image048.png
.. |image49| image:: /_static/class1/module1/image049.png
.. |image50| image:: /_static/class1/module1/image050.png
.. |image51| image:: /_static/class1/module1/image051.png
.. |image53| image:: /_static/class1/module1/image053.png
